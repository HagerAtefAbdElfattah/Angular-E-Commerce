<section class="container my-10 p-10">
    <section class="products my-5">
        <div class="page-title">
            <h2 class="text-green-500 text-center mb-5 font-bold text-4xl uppercase">products</h2>
        </div>
        <div class=" gap-10 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4">
            @for (product of productsList(); track $index) {
            <div class="card w-fullbg-white rounded-lg hover:shadow-lg hover:shadow-green-500 ease-in-out duration-500">
                <a [routerLink]="['/details',product.id]">
                    <div class="card-img">
                        <img [src]="product.imageCover" class="w-full" alt="">
                    </div>
                    <div class="card-body p-5">

                        <h5 class="mb-2 text-2xl font-bold tracking-tight text-gray-900 dark:text-green-500">
                            {{product.title}}</h5>

                        <p class="mb-3 font-normal text-gray-700 dark:text-gray-400 line-clamp-2">
                            {{product.description}}
                        </p>
                        <div class="flex justify-between text-black">
                            <span>{{product.price}}$</span>
                            <span><i class="fa-solid fa-star text-yellow-400"></i> {{product.ratingsAverage}}</span>
                        </div>
                    </div>
                </a>
                <button class="ms-auto block" (click)="toggleFavorite(product.id)">
                        @if (productInWishlist()(product.id)) {
                            <i class="fa-solid fa-heart text-red-500"></i>
                        }@else {
                            <i class="fa-solid fa-heart text-yellow-500"></i>
                        }
                </button>
                <button (click)="addToCart(product._id)"
                    class="up-button bg-green-600 text-b w-[90%] block mx-auto py-4 rounded-md mb-4 text-white">add to
                    cart</button>
            </div>
            }
        </div>
    </section>
</section>